
@*<input @bind="nameTextField" placeholder="Name" />
<input type="number" @bind="valueTextField" placeholder="Value" />
*@


<style>
    .adaptive-table {
        width: 100%;
        display: flex;
        flex-direction: column;
    }

    .table-container {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
    }

    .column-header {
        font-weight: bold;
        background-color: #f0f0f0;
        padding: 5px;
    }

    .input-field {
        width: 100%;
        margin-bottom: 5px;
    }


</style>

<div class="adaptive-table">
    <div class="table-container">
        <h5>Список лабораторных практикумов и курсов лекций (разработанных самостоятельно участником конкурса) за последние 5 лет: </h5>
        <table class="table">
            <thead>
                <tr>
                    <th class="column-header">Название курса</th>
                    <th class="column-header">Соавторы</th>
                    <th class="column-header">Ссылка на платформу</th>
                    <th class="column-header">год</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var model in models)
                {
                    <tr>
                        <td><input @bind="model.OnlineCourseName" class="input-field" placeholder="название" /></td>
                        <td><input @bind="model.OnlineCourseAuthor" class="input-field" placeholder="соавторы" /></td>
                        <td><input @bind="model.OnlineCourseLink" class="input-field" placeholder="ссылка" /></td>
                        <td><input @bind="model.OnlineCourseYear" class="input-field" placeholder="год" /></td>
                        <td>
                            <Button Color="ButtonColor.Danger" @onclick="() => RemoveModel(model)">X</Button>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
<Button Color="ButtonColor.Primary" @onclick="AddOrUpdateModel"> Добавить </Button>
<pre>@modelList</pre>

@code {
    private string nameTextField = "";
    private string valueTextField = "";
    private List<Model> models = new List<Model>
    {
        new Model { OnlineCourseName = "Курс1"},
    };

    private Model selectedModel = null;
    private string modelList = "";

    private void AddOrUpdateModel()
    {
        models.Add(new Model { OnlineCourseName = "Курс1" });
        @*if (!string.IsNullOrEmpty(nameTextField) && !string.IsNullOrEmpty(valueTextField))
        {
            if (selectedModel == null)
            {
                models.Add(new Model { CourseName = nameTextField, Lectures = int.Parse(valueTextField) });
            }
            else
            {
                selectedModel.CourseName = nameTextField;
                selectedModel.Lectures = int.Parse(valueTextField);
                selectedModel = null;
            }
            ClearInputFields();
        }*@
    }

    private void RemoveModel(Model model)
    {
        models.Remove(model);
    }


    private void ClearInputFields()
    {
        nameTextField = "";
        valueTextField = "";
    }

    public class Model
    {
        public string OnlineCourseName { get; set; }
        public string OnlineCourseAuthor { get; set; }
        public string OnlineCourseLink { get; set; }
        public int OnlineCourseYear { get; set; }
    }
}
